<!DOCTYPE html>
<html lang="en">

<header>
    <%- include('../partials/header'); %>
</header>

<body class="container">

    <head>
        <%- include('../partials/head'); %>
    </head>

    <main>
        <div class="jumbotron">
            <h1>Recherche de nutriments</h1>
            <input id="recherche_nutriments">

            <!-- Bouton avec la fonction getNutriment(query) -->
            <!-- Affichage des informations du nutriment trouvé -->
            <p>
                Nom du nutriment: <span id="nom_nutriment"></span><br>
                ID du nutriment: <span id="id_nutriment"></span><br>
                Nombre de calories: <span id="quantite_calories"></span><br>
                Type de nutriment: <span id="type_nutriment"></span>
            </p>

            <!-- Résultat de la requête -->
            <div id="sortie"></div>

        </div>
    </main>

    <footer>
        <%- include('../partials/footer'); %>
    </footer>

    <script>

        /**
         * Fonction qui trouve la source du nutriment
         * @params {number} id - ID du nutriment
         */
        function getNutrimentInfo(id) {
            $.ajax({
                url: "https://api.spoonacular.com/food/ingredients/" + id + "/information?apiKey=3b2c9d7b94d24ca785d5fccdfce53e3a&amount=150&unit=grams",
                success: function (res) {
                    document.getElementById('id_nutriment').textContent = id
                    document.getElementById('nom_nutriment').textContent = res.name
                    document.getElementById('quantite_calories').textContent = res.nutrition.nutrients[20].amount
                    document.getElementById('type_nutriment').textContent = res.categoryPath[0]
                }
            });
        }

    </script>

</body>

</html>